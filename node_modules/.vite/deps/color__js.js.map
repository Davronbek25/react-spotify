{
  "version": 3,
  "sources": ["../../color.js/dist/color.esm.js"],
  "sourcesContent": ["var getSrc = item => typeof item === 'string' ? item : item.src;\n\nvar getArgs = ({\n  amount = 3,\n  format = 'array',\n  group = 20,\n  sample = 10\n} = {}) => ({\n  amount,\n  format,\n  group,\n  sample\n});\n\nvar format = (input, args) => {\n  var list = input.map(val => {\n    var rgb = Array.isArray(val) ? val : val.split(',').map(Number);\n    return args.format === 'hex' ? rgbToHex(rgb) : rgb;\n  });\n  return args.amount === 1 || list.length === 1 ? list[0] : list;\n};\n\nvar group = (number, grouping) => {\n  var grouped = Math.round(number / grouping) * grouping;\n  return Math.min(grouped, 255);\n};\n\nvar rgbToHex = rgb => '#' + rgb.map(val => {\n  var hex = val.toString(16);\n  return hex.length === 1 ? '0' + hex : hex;\n}).join('');\n\nvar getImageData = src => new Promise((resolve, reject) => {\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n  var img = new Image();\n\n  img.onload = () => {\n    canvas.height = img.height;\n    canvas.width = img.width;\n    context.drawImage(img, 0, 0);\n    var data = context.getImageData(0, 0, img.width, img.height).data;\n    resolve(data);\n  };\n\n  img.onerror = () => reject(Error('Image loading failed.'));\n\n  img.crossOrigin = '';\n  img.src = src;\n});\n\nvar getAverage = (data, args) => {\n  var gap = 4 * args.sample;\n  var amount = data.length / gap;\n  var rgb = {\n    r: 0,\n    g: 0,\n    b: 0\n  };\n\n  for (var i = 0; i < data.length; i += gap) {\n    rgb.r += data[i];\n    rgb.g += data[i + 1];\n    rgb.b += data[i + 2];\n  }\n\n  return format([[Math.round(rgb.r / amount), Math.round(rgb.g / amount), Math.round(rgb.b / amount)]], args);\n};\n\nvar getProminent = (data, args) => {\n  var gap = 4 * args.sample;\n  var colors = {};\n\n  for (var i = 0; i < data.length; i += gap) {\n    var rgb = [group(data[i], args.group), group(data[i + 1], args.group), group(data[i + 2], args.group)].join();\n    colors[rgb] = colors[rgb] ? colors[rgb] + 1 : 1;\n  }\n\n  return format(Object.entries(colors).sort(([_keyA, valA], [_keyB, valB]) => valA > valB ? -1 : 1).slice(0, args.amount).map(([rgb]) => rgb), args);\n};\n\nvar process = (handler, item, args) => new Promise((resolve, reject) => getImageData(getSrc(item)).then(data => resolve(handler(data, getArgs(args)))).catch(error => reject(error)));\n\nvar average = (item, args) => process(getAverage, item, args);\n\nvar prominent = (item, args) => process(getProminent, item, args);\n\nexport { average, prominent };\n"],
  "mappings": ";;;AAAA,IAAI,SAAS,UAAQ,OAAO,SAAS,WAAW,OAAO,KAAK;AAE5D,IAAI,UAAU,CAAC;AAAA,EACb,SAAS;AAAA,EACT,QAAAA,UAAS;AAAA,EACT,OAAAC,SAAQ;AAAA,EACR,SAAS;AACX,IAAI,CAAC,OAAO;AAAA,EACV;AAAA,EACA,QAAAD;AAAA,EACA,OAAAC;AAAA,EACA;AACF;AAEA,IAAI,SAAS,CAAC,OAAO,SAAS;AAC5B,MAAI,OAAO,MAAM,IAAI,SAAO;AAC1B,QAAI,MAAM,MAAM,QAAQ,GAAG,IAAI,MAAM,IAAI,MAAM,GAAG,EAAE,IAAI,MAAM;AAC9D,WAAO,KAAK,WAAW,QAAQ,SAAS,GAAG,IAAI;AAAA,EACjD,CAAC;AACD,SAAO,KAAK,WAAW,KAAK,KAAK,WAAW,IAAI,KAAK,CAAC,IAAI;AAC5D;AAEA,IAAI,QAAQ,CAAC,QAAQ,aAAa;AAChC,MAAI,UAAU,KAAK,MAAM,SAAS,QAAQ,IAAI;AAC9C,SAAO,KAAK,IAAI,SAAS,GAAG;AAC9B;AAEA,IAAI,WAAW,SAAO,MAAM,IAAI,IAAI,SAAO;AACzC,MAAI,MAAM,IAAI,SAAS,EAAE;AACzB,SAAO,IAAI,WAAW,IAAI,MAAM,MAAM;AACxC,CAAC,EAAE,KAAK,EAAE;AAEV,IAAI,eAAe,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACzD,MAAI,SAAS,SAAS,cAAc,QAAQ;AAC5C,MAAI,UAAU,OAAO,WAAW,IAAI;AACpC,MAAI,MAAM,IAAI,MAAM;AAEpB,MAAI,SAAS,MAAM;AACjB,WAAO,SAAS,IAAI;AACpB,WAAO,QAAQ,IAAI;AACnB,YAAQ,UAAU,KAAK,GAAG,CAAC;AAC3B,QAAI,OAAO,QAAQ,aAAa,GAAG,GAAG,IAAI,OAAO,IAAI,MAAM,EAAE;AAC7D,YAAQ,IAAI;AAAA,EACd;AAEA,MAAI,UAAU,MAAM,OAAO,MAAM,uBAAuB,CAAC;AAEzD,MAAI,cAAc;AAClB,MAAI,MAAM;AACZ,CAAC;AAED,IAAI,aAAa,CAAC,MAAM,SAAS;AAC/B,MAAI,MAAM,IAAI,KAAK;AACnB,MAAI,SAAS,KAAK,SAAS;AAC3B,MAAI,MAAM;AAAA,IACR,GAAG;AAAA,IACH,GAAG;AAAA,IACH,GAAG;AAAA,EACL;AAEA,WAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK,KAAK;AACzC,QAAI,KAAK,KAAK,CAAC;AACf,QAAI,KAAK,KAAK,IAAI,CAAC;AACnB,QAAI,KAAK,KAAK,IAAI,CAAC;AAAA,EACrB;AAEA,SAAO,OAAO,CAAC,CAAC,KAAK,MAAM,IAAI,IAAI,MAAM,GAAG,KAAK,MAAM,IAAI,IAAI,MAAM,GAAG,KAAK,MAAM,IAAI,IAAI,MAAM,CAAC,CAAC,GAAG,IAAI;AAC5G;AAEA,IAAI,eAAe,CAAC,MAAM,SAAS;AACjC,MAAI,MAAM,IAAI,KAAK;AACnB,MAAI,SAAS,CAAC;AAEd,WAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK,KAAK;AACzC,QAAI,MAAM,CAAC,MAAM,KAAK,CAAC,GAAG,KAAK,KAAK,GAAG,MAAM,KAAK,IAAI,CAAC,GAAG,KAAK,KAAK,GAAG,MAAM,KAAK,IAAI,CAAC,GAAG,KAAK,KAAK,CAAC,EAAE,KAAK;AAC5G,WAAO,GAAG,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG,IAAI,IAAI;AAAA,EAChD;AAEA,SAAO,OAAO,OAAO,QAAQ,MAAM,EAAE,KAAK,CAAC,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,IAAI,MAAM,OAAO,OAAO,KAAK,CAAC,EAAE,MAAM,GAAG,KAAK,MAAM,EAAE,IAAI,CAAC,CAACC,IAAG,MAAMA,IAAG,GAAG,IAAI;AACnJ;AAEA,IAAI,UAAU,CAAC,SAAS,MAAM,SAAS,IAAI,QAAQ,CAAC,SAAS,WAAW,aAAa,OAAO,IAAI,CAAC,EAAE,KAAK,UAAQ,QAAQ,QAAQ,MAAM,QAAQ,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,WAAS,OAAO,KAAK,CAAC,CAAC;AAEpL,IAAI,UAAU,CAAC,MAAM,SAAS,QAAQ,YAAY,MAAM,IAAI;AAE5D,IAAI,YAAY,CAAC,MAAM,SAAS,QAAQ,cAAc,MAAM,IAAI;",
  "names": ["format", "group", "rgb"]
}
